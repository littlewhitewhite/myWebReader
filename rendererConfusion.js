'use strict';import{multiBy}from'./util.js';import{drawAnnotation}from'./annotation.js';export{zrun};const MATCHES_COUNT_LIMIT=0x3e8;class PDFFind{constructor(_0x332a4a,_0x54bf8b){var kPoSDz={'ZkwJX':'15|2|3|18|23|12|17|24|8|25|22|28|20|10|13|5|6|9|1|29|21|19|16|4|30|14|26|0|11|7|27','VQkzg':'click','DwPPg':'input','exoIZ':'keydown','rPkVv':'.page','gcUZi':function(_0x40d11c,_0xa3cd15){return _0x40d11c===_0xa3cd15;},'SgJHS':function(_0x7bdacb,_0x4c00f6){return _0x7bdacb==_0x4c00f6;},'VlnZC':'autocomplete','zzZNS':'off'};var tiYOSV=kPoSDz['ZkwJX']['split']('|'),irSuZD=0x0;while(!![]){switch(tiYOSV[irSuZD++]){case'0':this['findNextButton']['addEventListener'](kPoSDz['VQkzg'],()=>{this['getSelected'](!![]);});continue;case'1':this['highLighted']=![];continue;case'2':this['opened']=![];continue;case'3':this['bar']=_0x332a4a['bar']||null;continue;case'4':this['findField']['addEventListener'](kPoSDz['DwPPg'],()=>{this['findInFile']();});continue;case'5':this['currentMatches']=[];continue;case'6':this['matches']=[];continue;case'7':this['caseSensitive']['addEventListener'](kPoSDz['VQkzg'],()=>{this['findInFile']();});continue;case'8':this['findMsg']=_0x332a4a['findMsg']||null;continue;case'9':this['textDivs']=[];continue;case'10':this['mainContainer']=_0x332a4a['mainContainer'];continue;case'11':if(this['highlightAll']){this['highlightAll']['addEventListener'](kPoSDz['VQkzg'],()=>{this['updateHighlightMatches'](this['findField']['value'],this['highlightAll']['checked']);});}continue;case'12':this['highlightAll']=_0x332a4a['highlightAllCheckbox']||null;continue;case'13':this['totalMatches']=0x0;continue;case'14':this['mainContainer']['addEventListener'](kPoSDz['exoIZ'],_0x59d0ae=>{if(cxSeMq['foPOv'](_0x59d0ae['keyCode'],0x1b)){this['close']();}});continue;case'15':var cxSeMq={'tbwWF':kPoSDz['rPkVv'],'wbLrf':function(_0x135040,_0x1f533d){return kPoSDz['gcUZi'](_0x135040,_0x1f533d);},'foPOv':function(_0x5b01e5,_0x5ad031){return kPoSDz['SgJHS'](_0x5b01e5,_0x5ad031);}};continue;case'16':this['toggleButton']['addEventListener'](kPoSDz['VQkzg'],()=>{this['pageCount']=this['viewer']['querySelectorAll'](cxSeMq['tbwWF'])['length'];this['toggle']();});continue;case'17':this['caseSensitive']=_0x332a4a['caseSensitiveCheckbox']||null;continue;case'18':this['toggleButton']=_0x332a4a['toggleButton']||null;continue;case'19':this['findField']['setAttribute'](kPoSDz['VlnZC'],kPoSDz['zzZNS']);continue;case'20':this['viewer']=_0x332a4a['viewer'];continue;case'21':this['matchDisplay']=_0x54bf8b;continue;case'22':this['findPreviousButton']=_0x332a4a['findPreviousButton']||null;continue;case'23':this['findField']=_0x332a4a['findField']||null;continue;case'24':this['entireWord']=_0x332a4a['entireWordCheckbox']||null;continue;case'25':this['findResultsCount']=_0x332a4a['findResultsCount']||null;continue;case'26':this['findPreviousButton']['addEventListener'](kPoSDz['VQkzg'],()=>{this['getSelected'](![]);});continue;case'27':if(this['entireWord']){this['entireWord']['addEventListener'](kPoSDz['VQkzg'],()=>{this['findInFile']();});}continue;case'28':this['findNextButton']=_0x332a4a['findNextButton']||null;continue;case'29':this['currentSelectedPos']=0x1;continue;case'30':this['bar']['addEventListener'](kPoSDz['exoIZ'],_0x19b0b0=>{switch(_0x19b0b0['keyCode']){case 0xd:if(cxSeMq['wbLrf'](_0x19b0b0['target'],this['findField'])){this['getSelected'](!_0x19b0b0['shiftKey']);}break;case 0x1b:this['close']();break;}});continue;}break;}}['open'](){var uYURLX={'jkKkn':'toggled','KUZGU':'hidden'};if(!this['opened']){this['opened']=!![];this['toggleButton']['classList']['add'](uYURLX['jkKkn']);this['bar']['classList']['remove'](uYURLX['KUZGU']);}this['findField']['select']();this['findField']['focus']();}['close'](){var mqakee={'UxkPp':'toggled','pZADc':'hidden'};if(!this['opened']){return;}this['opened']=![];this['toggleButton']['classList']['remove'](mqakee['UxkPp']);this['bar']['classList']['add'](mqakee['pZADc']);}['toggle'](){if(this['opened']){this['close']();}else{this['open']();}}['getCharacterType'](_0x3369c5){return![];}['isEntireWord'](_0x170a65,_0x37e4f2,_0x437fcd){var KyrScE={'vTEfL':function(_0x5955cc,_0x35ba8f){return _0x5955cc>_0x35ba8f;},'AodWe':function(_0x48df82,_0x5e0502){return _0x48df82-_0x5e0502;},'ciPJX':function(_0x413e6e,_0x34ea98){return _0x413e6e===_0x34ea98;}};if(KyrScE['vTEfL'](_0x37e4f2,0x0)){const first=_0x170a65['charCodeAt'](_0x37e4f2);const limit=_0x170a65['charCodeAt'](KyrScE['AodWe'](_0x37e4f2,0x1));if(KyrScE['ciPJX'](this['getCharacterType'](first),this['getCharacterType'](limit))){return![];}}}['appendTextToDiv'](_0x4ae8f4,_0x186485,_0x4f991c,_0x118a11,_0x26f2fd){var iqXIXA={'XPzBy':'span'};const div=this['textDivs'][_0x4ae8f4];const content=_0x186485['substring'](_0x4f991c,_0x118a11);const node=document['createTextNode'](content);if(_0x26f2fd){const span=document['createElement'](iqXIXA['XPzBy']);span['className']=_0x26f2fd;span['appendChild'](node);div['appendChild'](span);return;}div['appendChild'](node);}['updateHighlightMatches'](_0x5b494c,_0x1ffe3e){var iYkSxI={'ZpSKj':function(_0x2ba8af,_0x5f4c6c){return _0x2ba8af==_0x5f4c6c;},'RIYTN':function(_0x1941d9,_0x4f1b36){return _0x1941d9<=_0x4f1b36;},'DTPxM':function(_0xfa3af4,_0x1c31c7){return _0xfa3af4+_0x1c31c7;},'dhqdt':function(_0x52d04c,_0x26b4db){return _0x52d04c+_0x26b4db;},'cyxEl':'.page[data-page-number=\x22','Jqanp':'\x22]\x20.textLayer','AdPip':function(_0x1690a5,_0x30c293){return _0x1690a5-_0x30c293;},'xfQoY':function(_0x12dca7,_0x189e96){return _0x12dca7<_0x189e96;},'Qmsgi':function(_0x2ece29,_0x23cfb9){return _0x2ece29<=_0x23cfb9;},'vBgWf':function(_0x3c79b0,_0x6bb6fa){return _0x3c79b0<=_0x6bb6fa;},'JPMZj':function(_0x289b26,_0x597e55){return _0x289b26<_0x597e55;},'rXiZC':function(_0x3e93a8,_0x298d19){return _0x3e93a8!=_0x298d19;},'lNaLm':function(_0x2a6479,_0x38bef1){return _0x2a6479+_0x38bef1;},'bprOy':function(_0x100c4d,_0x5f319d){return _0x100c4d+_0x5f319d;},'uEtHQ':function(_0x223b4e,_0x538d8f){return _0x223b4e==_0x538d8f;},'seVCp':function(_0x510dfa,_0x5f5621){return _0x510dfa-_0x5f5621;},'dQBln':function(_0x5c221b,_0x49acd3){return _0x5c221b<_0x49acd3;},'FQmsV':'highlight','dtKWD':function(_0x575dac,_0x316582){return _0x575dac<_0x316582;},'nPgWb':function(_0x2939a9,_0x1faca6){return _0x2939a9+_0x1faca6;},'NzuCp':function(_0x5e5280,_0x762977){return _0x5e5280!=_0x762977;}};const queryLen=_0x5b494c['length'];if(iYkSxI['ZpSKj'](queryLen,0x0)&&iYkSxI['ZpSKj'](this['totalMatches'],0x0)){return;}this['currentMatches'][0x0]=0x0;this['totalMatches']=0x0;if(this['highLighted']){for(let currentPage=0x1;iYkSxI['RIYTN'](currentPage,this['pageCount']);currentPage++){this['textDivs']=document['querySelector'](iYkSxI['DTPxM'](iYkSxI['dhqdt'](iYkSxI['cyxEl'],currentPage),iYkSxI['Jqanp']))['childNodes'];let clearedUntilDivIdx=-0x1;for(let i=this['currentMatches'][iYkSxI['AdPip'](currentPage,0x1)],ii=this['currentMatches'][currentPage];iYkSxI['xfQoY'](i,ii);i++){const match=this['matches'][i];const begin=Math['max'](clearedUntilDivIdx,match['begin']['divIdx']);for(let n=begin,end=match['end']['divIdx'];iYkSxI['Qmsgi'](n,end);n++){const div=this['textDivs'][n];div['textContent']=this['textDivs'][n]['textContent'];div['className']='';}clearedUntilDivIdx=iYkSxI['dhqdt'](match['end']['divIdx'],0x1);}}}this['matches']=[];this['currentMatches']=[0x0];if(iYkSxI['ZpSKj'](queryLen,0x0)){this['totalMatches']=0x0;return;}for(let currentPage=0x1;iYkSxI['vBgWf'](currentPage,this['pageCount']);currentPage++){this['textDivs']=document['querySelector'](iYkSxI['dhqdt'](iYkSxI['dhqdt'](iYkSxI['cyxEl'],currentPage),iYkSxI['Jqanp']))['childNodes'];for(let i=0x0;iYkSxI['JPMZj'](i,this['textDivs']['length']);i++){let spanIdx=0x0;let tmp=-queryLen;let currentDivContent=this['textDivs'][i]['textContent'];if(!this['caseSensitive']['checked']){currentDivContent=currentDivContent['toLowerCase']();_0x5b494c=_0x5b494c['toLowerCase']();}while(iYkSxI['rXiZC'](tmp=currentDivContent['indexOf'](_0x5b494c,iYkSxI['lNaLm'](tmp,queryLen)),-0x1)){this['matches']['push']({'begin':{'divIdx':i,'offset':tmp},'end':{'divIdx':i,'offset':iYkSxI['bprOy'](tmp,queryLen)},'spanIdx':spanIdx++});}}this['currentMatches'][currentPage]=this['matches']['length'];if(iYkSxI['uEtHQ'](_0x1ffe3e,!![])){this['highLighted']=!![];let currentMatchContent='';let formerIdx=0x0;for(let i=this['currentMatches'][iYkSxI['seVCp'](currentPage,0x1)],ii=this['matches']['length'];iYkSxI['dQBln'](i,ii);i++){const match=this['matches'][i];const begin=match['begin']['divIdx'];const end=match['end']['divIdx'];let fromOffset=match['begin']['offset'];let toOffset=match['end']['offset'];if(iYkSxI['uEtHQ'](this['matches'][i]['spanIdx'],0x0)){currentMatchContent=this['textDivs'][begin]['textContent'];this['textDivs'][begin]['textContent']='';formerIdx=0x0;}this['appendTextToDiv'](begin,currentMatchContent,formerIdx,fromOffset);this['appendTextToDiv'](begin,currentMatchContent,fromOffset,toOffset,iYkSxI['FQmsV']);formerIdx=toOffset;if(iYkSxI['dtKWD'](iYkSxI['nPgWb'](i,0x1),ii)&&iYkSxI['NzuCp'](this['matches'][iYkSxI['nPgWb'](i,0x1)]['spanIdx'],0x0)){continue;}this['appendTextToDiv'](begin,currentMatchContent,toOffset);}}}this['totalMatches']=this['matches']['length'];}['updatePage'](_0x3fabde){var YnLtRb={'NceHN':function(_0x268391,_0x12be62){return _0x268391<_0x12be62;},'XRtrC':function(_0x1e60aa,_0xc89a17){return _0x1e60aa-_0xc89a17;},'wnMJH':'viewerContainer','KnxfV':function(_0x20cf3b,_0x1f131b){return _0x20cf3b+_0x1f131b;},'LGQCa':function(_0x49f4d2,_0x2202e2){return _0x49f4d2-_0x2202e2;},'aqQpd':function(_0x20698c,_0x1da025){return _0x20698c(_0x1da025);}};let pageInfo=this['getPageInfoBySelectedPos'](_0x3fabde);let scrollTop=0x0;let spanTop=pageInfo['spanObj']['style']['top'];for(let i=0x0;YnLtRb['NceHN'](i,YnLtRb['XRtrC'](pageInfo['page'],0x1));i++){scrollTop+=g_zpages[i]['height'];}let viewerContainerElement=document['getElementById'](YnLtRb['wnMJH']);viewerContainerElement['scrollTop']=YnLtRb['KnxfV'](scrollTop,YnLtRb['LGQCa'](YnLtRb['aqQpd'](parseInt,spanTop),this['matchDisplay']));}['updateResultsCounts'](_0x302d45=0x0,_0x5d5058=0x0){var SfFXFI={'ZJNkN':function(_0x45bbb2,_0x2ea2fc){return _0x45bbb2==_0x2ea2fc;},'gnJlo':'找不到指定词语','nGNWr':function(_0x4a4aba,_0x146125){return _0x4a4aba>_0x146125;},'AKakQ':function(_0x4dc859,_0x2bdbc5){return _0x4dc859<_0x2bdbc5;},'elCnx':function(_0x223ecd,_0x2db8e1){return _0x223ecd+_0x2db8e1;},'KNZqb':function(_0x52ff1b,_0x223856){return _0x52ff1b+_0x223856;},'dvuXP':function(_0x238049,_0x7d01f5){return _0x238049+_0x7d01f5;},'rnXsC':'\x20项，\x20','dvtJy':'查询到\x20','Rdwia':'超过1000项匹配','gaNGK':'hidden'};if(!this['findResultsCount']){return;}const limit=MATCHES_COUNT_LIMIT;let matchesCountMsg='';if(SfFXFI['ZJNkN'](_0x5d5058,0x0)){matchesCountMsg=SfFXFI['gnJlo'];}else if(SfFXFI['nGNWr'](_0x5d5058,0x0)&&SfFXFI['AKakQ'](_0x5d5058,MATCHES_COUNT_LIMIT)){matchesCountMsg=SfFXFI['elCnx'](SfFXFI['KNZqb'](SfFXFI['dvuXP'](SfFXFI['dvuXP'](SfFXFI['dvuXP']('第',_0x302d45),SfFXFI['rnXsC']),SfFXFI['dvtJy']),_0x5d5058),'\x20项');}else{matchesCountMsg=SfFXFI['Rdwia'];}findResultsCount['textContent']=matchesCountMsg;this['findResultsCount']['classList']['toggle'](SfFXFI['gaNGK'],!_0x5d5058);}['calculatePhraseMatch'](_0x27e9f0,_0x3adf35,_0x4608b6,_0x16ebaf){var AQezDU={'NQLuy':function(_0x2f4ed3,_0x3eee7c){return _0x2f4ed3+_0x3eee7c;},'cKbui':function(_0x4c2db1,_0x210afc){return _0x4c2db1===_0x210afc;}};const matches=[];const queryLen=_0x27e9f0['length'];let matchIdx=-queryLen;while(!![]){matchIdx=_0x4608b6['indexOf'](_0x27e9f0,AQezDU['NQLuy'](matchIdx,queryLen));if(AQezDU['cKbui'](matchIdx,-0x1)){break;}if(_0x16ebaf&&!this['isEntireWord'](_0x4608b6,matchIdx,queryLen)){continue;}matches['push'](matchIdx);}this['pageMatches'][_0x3adf35]=matches;}['calculateWordMatch'](_0x28c0d8,_0x260b2f,_0x14f22c,_0x42fb77){}['calculateMatch'](_0x55b36b,_0x1814d7){var DMEzTV={'PbFxm':function(_0x3e0440,_0x49cf2c){return _0x3e0440===_0x49cf2c;},'wDPbf':function(_0x391a7c,_0x1a756b){return _0x391a7c==_0x1a756b;},'fYqMe':function(_0xbf60f1,_0x3049d9){return _0xbf60f1>_0x3049d9;},'uniHq':function(_0x118073,_0x43ad44){return _0x118073+_0x43ad44;}};let pageContent=this['pageContents'][_0x55b36b];let query=_0x1814d7['query'];let caseSensitive=_0x1814d7['caseSensitive'];let entireWord=_0x1814d7['entireWord'];let phraseSearch=_0x1814d7['phraseSearch'];let highlightAll=_0x1814d7['highlightAll'];if(DMEzTV['PbFxm'](query['length'],0x0)){return;}if(!caseSensitive){pageContent=pageContent['toLowerCase']();query=query['toLowerCase']();}if(phraseSearch){this['calculatePhraseMatch'](query,_0x55b36b,pageContent,entireWord);}else{this['calculateWordMatch'](query,_0x55b36b,pageContent,entireWord);}const pageMatchesCount=this['pageMatches'][_0x55b36b]['length'];if(DMEzTV['wDPbf'](pageMatchesCount,0x0)){this['currentMatches'][_0x55b36b]=this['totalMatches'];}else if(DMEzTV['fYqMe'](pageMatchesCount,0x0)){this['currentMatches'][_0x55b36b]=DMEzTV['uniHq'](this['totalMatches'],0x1);this['totalMatches']+=pageMatchesCount;}}['findInFile'](){var DBdEAi={'AuuJr':'1|2|0|5|3|4','KOlOH':function(_0x1578d3,_0x1b112b){return _0x1578d3>_0x1b112b;},'BdIxr':'add','ebjgY':function(_0x349c50,_0x51dc90){return _0x349c50+_0x51dc90;},'hnjCN':function(_0xac6619,_0x53d3c1){return _0xac6619-_0x53d3c1;}};var xLtngK=DBdEAi['AuuJr']['split']('|'),GqeFbF=0x0;while(!![]){switch(xLtngK[GqeFbF++]){case'0':this['updateHighlightMatches'](this['findCondition']['query'],this['findCondition']['highlightAll']);continue;case'1':this['findCondition']={'query':this['findField']['value'],'phraseSearch':!![],'caseSensitive':this['caseSensitive']['checked'],'entireWord':!![],'highlightAll':!![]};continue;case'2':this['pageMatches']=[];continue;case'3':this['updateResultsCounts'](this['currentSelectedPos'],this['totalMatches']);continue;case'4':if(DBdEAi['KOlOH'](this['totalMatches'],0x0)){this['handleSelected'](this['currentSelectedPos'],DBdEAi['BdIxr']);this['updatePage'](this['currentSelectedPos']);}continue;case'5':this['currentSelectedPos']=DBdEAi['KOlOH'](this['totalMatches'],0x0)?DBdEAi['ebjgY'](this['currentMatches'][DBdEAi['hnjCN'](g_currentPageNumber,0x1)],0x1):0x0;continue;}break;}}['getPageInfoBySelectedPos'](_0x276494){var SlhYHE={'iKann':function(_0x4291d7,_0x44bafc){return _0x4291d7>_0x44bafc;},'tAEEX':function(_0x2d4504,_0x25d80a){return _0x2d4504-_0x25d80a;},'vIITB':function(_0x4bf2f6,_0x1b0bd8){return _0x4bf2f6+_0x1b0bd8;},'ymFbj':function(_0x22c4fc,_0x145b3e){return _0x22c4fc+_0x145b3e;},'wYHAQ':'.page[data-page-number=\x22','IbAxp':'\x22]\x20.textLayer','brJtY':'span'};let currentSelectedPage=0x1;while(SlhYHE['iKann'](_0x276494,this['currentMatches'][currentSelectedPage])){currentSelectedPage++;}let match=this['matches'][SlhYHE['tAEEX'](_0x276494,0x1)];let currentSelectedPageTextDivs=document['querySelector'](SlhYHE['vIITB'](SlhYHE['ymFbj'](SlhYHE['wYHAQ'],currentSelectedPage),SlhYHE['IbAxp']))['childNodes'];let spanObj=currentSelectedPageTextDivs[match['begin']['divIdx']];let highlightSpanObj=spanObj['querySelectorAll'](SlhYHE['brJtY'])[match['spanIdx']];return{'page':currentSelectedPage,'spanObj':spanObj,'highlightSpanObj':highlightSpanObj};}['handleSelected'](_0x23b25f,_0x225bd8){var rubwVf={'vAhEq':'selected','cmHle':'highlight\x20selected','NAGnQ':function(_0x267bbd,_0x3981eb){return _0x267bbd==_0x3981eb;},'kWOXb':'remove','YgzJE':'add'};let className=this['highLighted']?rubwVf['vAhEq']:rubwVf['cmHle'];let pageInfo=this['getPageInfoBySelectedPos'](_0x23b25f);if(rubwVf['NAGnQ'](_0x225bd8,rubwVf['kWOXb'])){pageInfo['highlightSpanObj']['classList']['remove'](className);}else if(rubwVf['NAGnQ'](_0x225bd8,rubwVf['YgzJE'])){pageInfo['highlightSpanObj']['classList']['add'](className);}}['getSelected'](_0x142626=!![]){var BdlOGZ={'pAnLX':'3|0|5|6|1|4|2','LdVSc':function(_0x879561,_0x3e4a21){return _0x879561==_0x3e4a21;},'xDeUx':'add','JRtWP':function(_0x28b51c,_0x70064d){return _0x28b51c>=_0x70064d;},'hIbpL':'remove'};var jCORYj=BdlOGZ['pAnLX']['split']('|'),dZogdD=0x0;while(!![]){switch(jCORYj[dZogdD++]){case'0':if(!_0x142626&&BdlOGZ['LdVSc'](this['currentSelectedPos'],0x1)){return;}continue;case'1':this['handleSelected'](this['currentSelectedPos'],BdlOGZ['xDeUx']);continue;case'2':this['updatePage'](this['currentSelectedPos']);continue;case'3':if(_0x142626&&BdlOGZ['JRtWP'](this['currentSelectedPos'],this['totalMatches'])){return;}continue;case'4':this['updateResultsCounts'](this['currentSelectedPos'],this['totalMatches']);continue;case'5':this['handleSelected'](this['currentSelectedPos'],BdlOGZ['hIbpL']);continue;case'6':if(_0x142626){this['currentSelectedPos']++;}else{this['currentSelectedPos']--;}continue;}break;}}}function getViewerConfiguration(){var yqHZDb={'lVfma':'findbar','uLnyI':'viewFind','Klsnl':'findInput','QXbvZ':'findHighlightAll','lJMyR':'findMatchCase','ZZkWF':'findEntireWord','LkSXi':'findMsg','EinLI':'findResultsCount','XgrVj':'findPrevious','ZgofH':'findNext','niTsH':'viewer','uOZPk':'mainContainer'};return{'findBar':{'bar':document['getElementById'](yqHZDb['lVfma']),'toggleButton':document['getElementById'](yqHZDb['uLnyI']),'findField':document['getElementById'](yqHZDb['Klsnl']),'highlightAllCheckbox':document['getElementById'](yqHZDb['QXbvZ']),'caseSensitiveCheckbox':document['getElementById'](yqHZDb['lJMyR']),'entireWordCheckbox':document['getElementById'](yqHZDb['ZZkWF']),'findMsg':document['getElementById'](yqHZDb['LkSXi']),'findResultsCount':document['getElementById'](yqHZDb['EinLI']),'findPreviousButton':document['getElementById'](yqHZDb['XgrVj']),'findNextButton':document['getElementById'](yqHZDb['ZgofH']),'viewer':document['getElementById'](yqHZDb['niTsH']),'mainContainer':document['getElementById'](yqHZDb['uOZPk'])}};}function initFind(){var uLjbha={'oVKbC':function(_0x1c9e57){return _0x1c9e57();}};const config=uLjbha['oVKbC'](getViewerConfiguration);const MATCHDISPLAY=0xc8;let item=new PDFFind(config['findBar'],MATCHDISPLAY);}let g_singlePageMode=![];class SinglePageMode{constructor(_0x24bd6d){var lTTDOI={'IHWHs':'click'};this['opened']=![];this['singlePageButton']=_0x24bd6d['singlePageButton'];this['singlePageButton']['addEventListener'](lTTDOI['IHWHs'],()=>{this['toggle']();});}['open'](){var lOrESQ={'lJfMk':function(_0x8527a1){return _0x8527a1();}};if(!this['opened']){this['opened']=!![];g_singlePageMode=!![];lOrESQ['lJfMk'](openSinglePageMode);}}['close'](){if(!this['opened']){return;}this['opened']=![];g_singlePageMode=![];}['toggle'](){if(this['opened']){this['close']();}else{this['open']();}}}function initSinglePageMode(){var NWgJsJ={'eIjQo':'openFile'};let config={'singlePageButton':document['getElementById'](NWgJsJ['eIjQo'])};let singPageObj=new SinglePageMode(config);}class ZPage{constructor(_0x1e4702,_0x39dfee,_0x35b8f9,_0x55741c,_0x2110f6){var XQdDRa={'mZlkK':'3|0|4|2|1'};var MvJRrZ=XQdDRa['mZlkK']['split']('|'),AktpqA=0x0;while(!![]){switch(MvJRrZ[AktpqA++]){case'0':this['x']=_0x39dfee;continue;case'1':this['height']=_0x2110f6;continue;case'2':this['width']=_0x55741c;continue;case'3':this['pageNumber']=_0x1e4702;continue;case'4':this['y']=_0x35b8f9;continue;}break;}}}let g_currentPageNumber=0x1;let g_zpages=[];function setPrintButton(){var efQPQH={'nYBVR':'print','rsEKd':'click'};const printFileButton=document['getElementById'](efQPQH['nYBVR']);printFileButton['addEventListener'](efQPQH['rsEKd'],function(_0x56f2e3){window['print']();});}let curScaleFactorIdx=0x1;function zoomScale(_0x503dbb){var qRdqSX={'tryhJ':'#viewer\x20.page\x20.canvasWrapper\x20canvas','bZbsB':'#viewer\x20.page\x20.textLayer','eSXCY':'selectdScale','YzMyC':function(_0x6ac65b,_0x4d6866){return _0x6ac65b==_0x4d6866;},'BYWFQ':'zoomIn','kkfTB':function(_0x28d65e,_0x1917f6){return _0x28d65e<_0x1917f6;},'bYeMs':function(_0x581893,_0x4cfdca){return _0x581893-_0x4cfdca;},'tmAat':function(_0x29bdab,_0x3fed0d){return _0x29bdab+_0x3fed0d;},'tpiyh':'zoomOut','hjBfu':function(_0x1b2f9b,_0x163abf){return _0x1b2f9b>_0x163abf;},'aQbOT':function(_0x522cf4,_0x2ef6a5){return _0x522cf4-_0x2ef6a5;},'dmWCU':function(_0x488c29,_0x3d215c){return _0x488c29+_0x3d215c;},'XUPfy':function(_0x5a2406,_0x16f129){return _0x5a2406(_0x16f129);},'umhPI':function(_0x1e9d69,_0x17602b){return _0x1e9d69/_0x17602b;},'bTsAB':function(_0x549fc6,_0x483956){return _0x549fc6*_0x483956;},'CIVto':function(_0x30697d,_0x7c388e){return _0x30697d(_0x7c388e);},'ApdUK':function(_0x4bfd30,_0x290454){return _0x4bfd30+_0x290454;},'FZnYa':function(_0x2047ed,_0x2d2c95){return _0x2047ed(_0x2d2c95);},'GCgtJ':function(_0x648dfc,_0x15a028){return _0x648dfc/_0x15a028;},'uJAJh':function(_0x352e67,_0x4831a3){return _0x352e67(_0x4831a3);},'NREWm':function(_0x4e77a5,_0x46b4ee){return _0x4e77a5/_0x46b4ee;},'KsEai':function(_0x25840a,_0x54d556){return _0x25840a+_0x54d556;},'PcUQK':function(_0x54e754,_0x421db2){return _0x54e754(_0x421db2);},'oCDZw':function(_0x17a9d0,_0x4b0e39){return _0x17a9d0(_0x4b0e39);},'NBKQT':function(_0x5eef12,_0x389d10){return _0x5eef12/_0x389d10;},'YcwHr':function(_0x23781,_0x4ae5ab){return _0x23781(_0x4ae5ab);},'vxMJN':function(_0x56af9e,_0x1d285f){return _0x56af9e+_0x1d285f;},'hLOuf':function(_0x54c69b,_0x556d29){return _0x54c69b/_0x556d29;},'ZwnGk':function(_0x20e9ff,_0x297d0d){return _0x20e9ff(_0x297d0d);},'vpjYn':function(_0x2aab29,_0x1ca2f4){return _0x2aab29/_0x1ca2f4;},'ydjEk':function(_0x158fc1,_0x295529){return _0x158fc1+_0x295529;}};let canvas=document['querySelectorAll'](qRdqSX['tryhJ']);let textLayers=document['querySelectorAll'](qRdqSX['bZbsB']);let selectScale=document['getElementById'](qRdqSX['eSXCY']);let scaleFactors=[0x4b,0x64,0x7d];let isZoomIn=![];if(qRdqSX['YzMyC'](this['id'],qRdqSX['BYWFQ'])){if(qRdqSX['kkfTB'](curScaleFactorIdx,qRdqSX['bYeMs'](scaleFactors['length'],0x1))){isZoomIn=!![];_0x503dbb=scaleFactors[qRdqSX['tmAat'](curScaleFactorIdx,0x1)];}else return;}else if(qRdqSX['YzMyC'](this['id'],qRdqSX['tpiyh'])){if(qRdqSX['hjBfu'](curScaleFactorIdx,0x0)){_0x503dbb=scaleFactors[qRdqSX['aQbOT'](curScaleFactorIdx,0x1)];}else return;}for(let item of canvas){item['style']['width']=item['parentNode']['style']['width']=item['parentNode']['parentNode']['style']['width']=qRdqSX['dmWCU'](qRdqSX['XUPfy'](parseInt,qRdqSX['umhPI'](qRdqSX['bTsAB'](qRdqSX['CIVto'](parseInt,item['style']['width']),_0x503dbb),scaleFactors[curScaleFactorIdx])),'px');item['style']['height']=item['parentNode']['style']['height']=item['parentNode']['parentNode']['style']['height']=qRdqSX['ApdUK'](qRdqSX['FZnYa'](parseInt,qRdqSX['GCgtJ'](qRdqSX['bTsAB'](qRdqSX['uJAJh'](parseInt,item['style']['height']),_0x503dbb),scaleFactors[curScaleFactorIdx])),'px');}for(let item of textLayers){item['style']['width']=qRdqSX['ApdUK'](qRdqSX['uJAJh'](parseInt,qRdqSX['NREWm'](qRdqSX['bTsAB'](qRdqSX['uJAJh'](parseInt,item['style']['width']),_0x503dbb),scaleFactors[curScaleFactorIdx])),'px');item['style']['height']=qRdqSX['KsEai'](qRdqSX['PcUQK'](parseInt,qRdqSX['NREWm'](qRdqSX['bTsAB'](qRdqSX['oCDZw'](parseInt,item['style']['height']),_0x503dbb),scaleFactors[curScaleFactorIdx])),'px');for(let span of item['childNodes']){span['style']['left']=qRdqSX['KsEai'](qRdqSX['oCDZw'](parseFloat,qRdqSX['NBKQT'](qRdqSX['bTsAB'](qRdqSX['YcwHr'](parseFloat,span['style']['left']),_0x503dbb),scaleFactors[curScaleFactorIdx])),'px');span['style']['top']=qRdqSX['vxMJN'](qRdqSX['YcwHr'](parseFloat,qRdqSX['hLOuf'](qRdqSX['bTsAB'](qRdqSX['ZwnGk'](parseFloat,span['style']['top']),_0x503dbb),scaleFactors[curScaleFactorIdx])),'px');span['style']['fontSize']=qRdqSX['vxMJN'](qRdqSX['ZwnGk'](parseFloat,qRdqSX['vpjYn'](qRdqSX['bTsAB'](qRdqSX['ZwnGk'](parseFloat,span['style']['fontSize']),_0x503dbb),scaleFactors[curScaleFactorIdx])),'px');}}selectScale['text']=qRdqSX['ydjEk'](_0x503dbb,'%');if(isZoomIn){curScaleFactorIdx++;}else{curScaleFactorIdx--;}}function initZoom(){var FKhxVf={'nUMzv':'zoomIn','lhCao':'zoomOut','GdRlI':'click'};const zoomInButton=document['getElementById'](FKhxVf['nUMzv']);const zoomOutButton=document['getElementById'](FKhxVf['lhCao']);zoomInButton['addEventListener'](FKhxVf['GdRlI'],zoomScale);zoomOutButton['addEventListener'](FKhxVf['GdRlI'],zoomScale);}function toggleFullScreen(){if(!document['fullscreenElement']){document['documentElement']['requestFullscreen']();}else{if(document['exitFullscreen']){document['exitFullscreen']();}}}function setFullScreenButton(){var ifgbGz={'VIPrR':'presentationMode','bAAxB':'click'};let presentationModeButton=document['getElementById'](ifgbGz['VIPrR']);presentationModeButton['addEventListener'](ifgbGz['bAAxB'],toggleFullScreen);}function initViewer(){var ASEXBf={'DwKpB':'5|0|1|4|2|3','hZyBQ':function(_0x4caebe){return _0x4caebe();},'cBJnr':function(_0x102c77){return _0x102c77();}};var IfKLHT=ASEXBf['DwKpB']['split']('|'),XTIwHN=0x0;while(!![]){switch(IfKLHT[XTIwHN++]){case'0':ASEXBf['hZyBQ'](setPrintButton);continue;case'1':ASEXBf['cBJnr'](setFullScreenButton);continue;case'2':ASEXBf['cBJnr'](initSinglePageMode);continue;case'3':ASEXBf['cBJnr'](initZoom);continue;case'4':ASEXBf['cBJnr'](initFind);continue;case'5':ASEXBf['cBJnr'](setSideBar);continue;}break;}}function createOutlineItemElement(_0x3a8a66,_0x151875,_0x3073f2){var cRiSch={'iFHmd':'div','JUXBz':'outlineItemToggler','ynfWS':'outlineItem','KWHMP':function(_0x2f30c1,_0x46c6be){return _0x2f30c1+_0x46c6be;},'qHiYw':'#zpage-number-'};let outlineElement=document['createElement'](cRiSch['iFHmd']);if(_0x3073f2){let beforeElement=document['createElement'](cRiSch['iFHmd']);beforeElement['classList']['add'](cRiSch['JUXBz']);outlineElement['appendChild'](beforeElement);}outlineElement['classList']['add'](cRiSch['ynfWS']);let aElement=document['createElement']('a');aElement['href']=cRiSch['KWHMP'](cRiSch['qHiYw'],_0x3a8a66);aElement['innerHTML']=_0x151875;outlineElement['appendChild'](aElement);return outlineElement;}function getCatalogTitleText(_0x4e804e){var vtSBFD={'oDvlC':function(_0x259c09,_0x1f5b16){return _0x259c09<_0x1f5b16;}};let titleText='';for(let i=0x0;vtSBFD['oDvlC'](i,_0x4e804e['length']);i++){titleText+=String['fromCharCode'](_0x4e804e['titleText'][i]);}return titleText;}function parseOutlineJSON(_0x3ca1e2){var lpFvLP={'bnAzQ':function(_0x5e372f,_0x499f09){return _0x5e372f(_0x499f09);},'hyclN':function(_0x469d16,_0x36c8aa,_0x4e351d,_0x10c94a){return _0x469d16(_0x36c8aa,_0x4e351d,_0x10c94a);},'MiZxq':function(_0x477ea2,_0x46284a){return _0x477ea2(_0x46284a);},'WtONR':function(_0x4282e8,_0x6faa34){return _0x4282e8<_0x6faa34;},'lHqxL':function(_0x1aacd3,_0x12b009){return _0x1aacd3(_0x12b009);}};let titleText=lpFvLP['bnAzQ'](getCatalogTitleText,_0x3ca1e2['title']);let pageNumber=_0x3ca1e2['destPageNumber'];let outlineElement=lpFvLP['hyclN'](createOutlineItemElement,pageNumber,titleText,_0x3ca1e2['children']);if(_0x3ca1e2['children']){let childElement=lpFvLP['MiZxq'](parseOutlineJSON,_0x3ca1e2['children']);outlineElement['appendChild'](childElement);}let siblings=_0x3ca1e2['siblings'];for(let i=0x0;lpFvLP['WtONR'](i,siblings['length']);i++){let siblingElement=lpFvLP['hyclN'](createOutlineItemElement,siblings[i]['destPageNumber'],lpFvLP['MiZxq'](getCatalogTitleText,siblings[i]['title']),siblings[i]['children']);if(siblings[i]['children']){let siblingChildrenElement=lpFvLP['lHqxL'](parseOutlineJSON,siblings[i]['children']);siblingElement['appendChild'](siblingChildrenElement);}outlineElement['append'](siblingElement);}return outlineElement;}function drawOutline(_0x2dbf86){var pFNvyV={'iDjyK':function(_0x1bc16f,_0x3b97aa){return _0x1bc16f(_0x3b97aa);},'ARloa':'outlineView'};let outlineJSONObject=JSON['parse'](_0x2dbf86);let outlineElment=pFNvyV['iDjyK'](parseOutlineJSON,outlineJSONObject);let outlineViewElement=document['getElementById'](pFNvyV['ARloa']);outlineViewElement['appendChild'](outlineElment);}function initOutline(_0x1a4779){var vgsjJB={'VDmLW':function(_0x5eb755,_0x1a174d){return _0x5eb755(_0x1a174d);},'iDmKP':'GET','LOosi':'text'};let request=new XMLHttpRequest();request['open'](vgsjJB['iDmKP'],_0x1a4779);request['responseType']=vgsjJB['LOosi'];request['send']();request['onload']=function(){vgsjJB['VDmLW'](drawOutline,request['response']);};}function drawBook(_0x40adc1){var iqhPnD={'hNluI':'4|0|1|2|3','iuKVZ':function(_0x6f381f,_0x22c8f7){return _0x6f381f<_0x22c8f7;},'Oaqtc':function(_0x1780a1,_0x3a8dae){return _0x1780a1(_0x3a8dae);},'vOgNA':function(_0x34b3bb,_0x30681b,_0x258556,_0x1c5914,_0x41c44c,_0x296bd7){return _0x34b3bb(_0x30681b,_0x258556,_0x1c5914,_0x41c44c,_0x296bd7);},'OYgNt':function(_0x55ee24){return _0x55ee24();}};var RweGsv=iqhPnD['hNluI']['split']('|'),iGpWoA=0x0;while(!![]){switch(RweGsv[iGpWoA++]){case'0':for(let i=0x0;iqhPnD['iuKVZ'](i,_0x40adc1['pageUrlArray']['length']);i++){iqhPnD['Oaqtc'](createPage,_0x40adc1['pageUrlArray'][i]['pageNumber']);iqhPnD['vOgNA'](drawPage,_0x40adc1['pageUrlArray'][i]['pageNumber'],_0x40adc1['pageUrlArray'][i]['pageImageUrl'],_0x40adc1['pageUrlArray'][i]['pageImageDir'],_0x40adc1['pageUrlArray'][i]['pageTextJsonUrl'],_0x40adc1['pageUrlArray'][i]['pageAnnotationUrl']);}continue;case'1':iqhPnD['OYgNt'](setScrollEvent);continue;case'2':iqhPnD['OYgNt'](initPageNumber);continue;case'3':iqhPnD['OYgNt'](setPageNextPreviouseButton);continue;case'4':iqhPnD['Oaqtc'](initOutline,_0x40adc1['outlineURL']);continue;}break;}}function createPage(_0x1ec6ec){var pimEwZ={'zrZFd':'viewer','XfKGZ':'div','ZGPHW':'page','MWrev':'data-page-number','zBFEB':function(_0x2e0a7a,_0x1573c8){return _0x2e0a7a+_0x1573c8;},'qCoDc':'zpage-number-','xLaJs':'800px','WNVoa':'1000px'};let viewer=document['getElementById'](pimEwZ['zrZFd']);let page=document['createElement'](pimEwZ['XfKGZ']);page['className']=pimEwZ['ZGPHW'];page['setAttribute'](pimEwZ['MWrev'],_0x1ec6ec);page['setAttribute']('id',pimEwZ['zBFEB'](pimEwZ['qCoDc'],_0x1ec6ec));page['style']['width']=pimEwZ['xLaJs'];page['style']['height']=pimEwZ['WNVoa'];let zpage=new ZPage();zpage['pageNumber']=_0x1ec6ec;zpage['width']=0x0;zpage['height']=0x0;g_zpages['push'](zpage);viewer['appendChild'](page);}function drawTextLayer(_0x145b65,_0x80e817,_0x5e7d52,_0x3091b2){var dQtQHi={'igDDL':'div','KSlmg':'textLayer','MpvTu':function(_0x4bebad,_0x2a9738){return _0x4bebad+_0x2a9738;},'KGEcY':function(_0x9f40e2,_0x19b5b8){return _0x9f40e2+_0x19b5b8;},'biazg':function(_0x50335e,_0x55b554){return _0x50335e<_0x55b554;},'krQKb':'span','Prlcd':function(_0x568c04,_0x93a986){return _0x568c04(_0x93a986);},'TMTTv':function(_0x13e4a8,_0x3ef901){return _0x13e4a8(_0x3ef901);},'zCTVf':function(_0x425681,_0x22f2c6){return _0x425681+_0x22f2c6;},'fhmkq':'serif','CBwzN':'scaleX(1)','tiCXF':function(_0x4d160c,_0x47a359){return _0x4d160c(_0x47a359);},'VoXbR':'px\x20serif','RQluU':function(_0x302089,_0x11e1bc){return _0x302089-_0x11e1bc;},'rBuIc':function(_0x2222f8,_0x5cacb5){return _0x2222f8(_0x5cacb5);},'tLGzR':function(_0x526982,_0x560ca1){return _0x526982/_0x560ca1;},'YXDQE':'scaleX('};let textLayer=document['createElement'](dQtQHi['igDDL']);textLayer['className']=dQtQHi['KSlmg'];textLayer['style']['width']=dQtQHi['MpvTu'](_0x80e817['width'],'px');textLayer['style']['height']=dQtQHi['KGEcY'](_0x80e817['height'],'px');_0x145b65['appendChild'](textLayer);let textLines=_0x5e7d52['textLines'];for(let j=0x0;dQtQHi['biazg'](j,textLines['length']);j++){let textLine=textLines[j];let spanObject=document['createElement'](dQtQHi['krQKb']);spanObject['style']['left']=dQtQHi['KGEcY'](dQtQHi['Prlcd'](multiBy,textLine['xMin']),'px');spanObject['style']['top']=dQtQHi['KGEcY'](dQtQHi['TMTTv'](multiBy,textLine['yMax']),'px');spanObject['style']['fontSize']=dQtQHi['zCTVf'](dQtQHi['TMTTv'](multiBy,textLine['charWidth']),'px');spanObject['style']['fontFamily']=dQtQHi['fhmkq'];spanObject['style']['transform']=dQtQHi['CBwzN'];let chars='';let charsObject=textLine['chars'];for(let k=0x0;dQtQHi['biazg'](k,charsObject['length']);k++){chars+=String['fromCharCode'](charsObject[k]);}_0x3091b2['font']=dQtQHi['zCTVf'](dQtQHi['tiCXF'](multiBy,textLine['charWidth']),dQtQHi['VoXbR']);let textWidth=_0x3091b2['measureText'](chars)['width'];let canvasWidth=dQtQHi['RQluU'](textLine['xMax'],textLine['xMin']);canvasWidth=dQtQHi['rBuIc'](multiBy,canvasWidth);textLine['charWidth']=dQtQHi['rBuIc'](multiBy,textLine['charWidth']);let scaleX=dQtQHi['tLGzR'](canvasWidth,textWidth);spanObject['style']['transform']=dQtQHi['zCTVf'](dQtQHi['zCTVf'](dQtQHi['YXDQE'],scaleX),')');spanObject['innerText']=chars;textLayer['appendChild'](spanObject);}}let imageDir=Object['freeze']({'NORMAL':0x0,'MIRROR_X':0x1,'MIRROR_Y':0x2,'MIRROR_XY':0x3});function drawImage(_0x4ccd72,_0x213c5f,_0x5bea35,_0xd19737,_0xa280d5){var XOhkSU={'OewWJ':function(_0x57788c,_0x550e03){return _0x57788c+_0x550e03;},'SVZLj':'zpage-number-','bsySF':function(_0x4e8271,_0xf119dc){return _0x4e8271+_0xf119dc;},'GwfVo':'div','Rnljo':'canvasWrapper','HMLvm':function(_0x5d34d9,_0x34eed4){return _0x5d34d9+_0x34eed4;},'VzJLp':'canvas','loAKe':function(_0x10c3f7,_0x281b95){return _0x10c3f7+_0x281b95;},'fbpfz':function(_0x4a05d0,_0x5acbea){return _0x4a05d0+_0x5acbea;},'bamJe':'aria-label','NVUwD':function(_0x431541,_0x153ce5){return _0x431541+_0x153ce5;},'QJnFA':'pageNumber\x20','lAMcl':function(_0x950b17,_0x14eecf){return _0x950b17-_0x14eecf;},'MOLIc':function(_0x265bd5,_0x67b71c){return _0x265bd5==_0x67b71c;},'sDdcC':function(_0x4ea4be,_0x12f79f){return _0x4ea4be-_0x12f79f;},'fEWAG':function(_0x367890,_0xf09c02){return _0x367890==_0xf09c02;},'WRLfV':function(_0x416cbb,_0x23154a){return _0x416cbb-_0x23154a;},'cqiXA':function(_0x5dc0b2,_0x431a71){return _0x5dc0b2-_0x431a71;},'MpLTB':function(_0x2117b2,_0x476b85,_0x3c84bb,_0x41b7bf,_0x78d3cc){return _0x2117b2(_0x476b85,_0x3c84bb,_0x41b7bf,_0x78d3cc);},'CKkJX':function(_0xce3ab3,_0x1ec6bb){return _0xce3ab3!=_0x1ec6bb;},'jVTCZ':function(_0x380710,_0x31e49b,_0xb6780a,_0x44ba00){return _0x380710(_0x31e49b,_0xb6780a,_0x44ba00);},'kQWoj':function(_0x410bdd,_0x10ad07){return _0x410bdd(_0x10ad07);}};const pagesJsonObject=JSON['parse'](_0xa280d5);let pageImg=new Image();pageImg['src']=_0x213c5f;pageImg['onload']=function(){let width=pageImg['width'];let height=pageImg['height'];let page=document['getElementById'](XOhkSU['OewWJ'](XOhkSU['SVZLj'],_0x4ccd72));page['style']['width']=XOhkSU['OewWJ'](width,'px');page['style']['height']=XOhkSU['bsySF'](height,'px');let pageCanvasWrapper=document['createElement'](XOhkSU['GwfVo']);pageCanvasWrapper['className']=XOhkSU['Rnljo'];pageCanvasWrapper['style']['width']=XOhkSU['bsySF'](width,'px');pageCanvasWrapper['style']['height']=XOhkSU['HMLvm'](height,'px');page['appendChild'](pageCanvasWrapper);let pageCanvas=document['createElement'](XOhkSU['VzJLp']);pageCanvas['width']=width;pageCanvas['height']=height;pageCanvas['style']['width']=XOhkSU['loAKe'](width,'px');pageCanvas['style']['height']=XOhkSU['fbpfz'](height,'px');pageCanvas['setAttribute'](XOhkSU['bamJe'],XOhkSU['NVUwD'](XOhkSU['QJnFA'],_0x4ccd72));pageCanvasWrapper['appendChild'](pageCanvas);let ctx=pageCanvas['getContext']('2d');ctx['save']();let x=0x0;let y=0x0;g_zpages[XOhkSU['lAMcl'](_0x4ccd72,0x1)]['width']=width;g_zpages[XOhkSU['lAMcl'](_0x4ccd72,0x1)]['height']=height;if(XOhkSU['MOLIc'](_0x5bea35,imageDir['NORMAL'])){ctx['drawImage'](this,x,y,width,height);}else if(XOhkSU['MOLIc'](_0x5bea35,imageDir['MIRROR_X'])){ctx['scale'](-0x1,0x1);ctx['drawImage'](this,XOhkSU['lAMcl'](-width,x),0x0,width,height);}else if(XOhkSU['MOLIc'](_0x5bea35,imageDir['MIRROR_Y'])){ctx['scale'](0x1,-0x1);ctx['drawImage'](this,x,XOhkSU['sDdcC'](-height,y),width,height);}else if(XOhkSU['fEWAG'](_0x5bea35,imageDir['MIRROR_XY'])){ctx['scale'](-0x1,-0x1);ctx['drawImage'](this,XOhkSU['WRLfV'](-width,x),XOhkSU['cqiXA'](-height,y),width,height);}XOhkSU['MpLTB'](drawTextLayer,page,pageImg,pagesJsonObject,ctx);ctx['restore']();if(XOhkSU['CKkJX'](_0xd19737,undefined)){XOhkSU['jVTCZ'](drawAnnotation,page,_0x4ccd72,_0xd19737);}XOhkSU['kQWoj'](createSidebar,_0x4ccd72);};}function createSidebar(_0x31f225){var eaiXOJ={'HxRIu':'thumbnailView','hlsYo':function(_0x400ff2,_0x5e1f8f){return _0x400ff2+_0x5e1f8f;},'OizsE':'#zpage-number-','GsxOT':function(_0x136bbb,_0x426441){return _0x136bbb+_0x426441;},'cuFIQ':'pageNumber','cGPxw':'thumbnail','YrwVw':'data-page-number','SKEwe':'div','sBREz':'thumbnailSelectionRing','EHPxy':'style','eEtVB':'width:\x20100px;\x20height:\x20128px;','ApZts':function(_0x6c5be9,_0x465a95){return _0x6c5be9+_0x465a95;},'qcacl':function(_0x79a764,_0x2854a9){return _0x79a764+_0x2854a9;},'FPxUd':'[aria-label\x20=\x20\x27','KTxcI':'pageNumber\x20','sZLBb':'img','vkNip':'thumbnailImage','cMvqr':'zthumbnailImage','tKbmj':'width:\x2098px;\x20height:126px;','BdDkC':'aria-label','zhGCd':function(_0x506029,_0x2fab5f){return _0x506029+_0x2fab5f;},'BBNOR':function(_0x124361,_0x70d424){return _0x124361+_0x70d424;},'KpQDP':'缩略图'};let thumbnailViewElement=document['getElementById'](eaiXOJ['HxRIu']);let aElement=document['createElement']('a');aElement['href']=eaiXOJ['hlsYo'](eaiXOJ['OizsE'],_0x31f225);aElement['title']=eaiXOJ['GsxOT'](eaiXOJ['cuFIQ'],_0x31f225);let thumbnailElement=document['createElement'](eaiXOJ['cGPxw']);thumbnailElement['classList']['add'](eaiXOJ['cGPxw']);thumbnailElement['setAttribute'](eaiXOJ['YrwVw'],_0x31f225);let thumbnailSelectionRingElement=document['createElement'](eaiXOJ['SKEwe']);thumbnailSelectionRingElement['classList']['add'](eaiXOJ['sBREz']);thumbnailSelectionRingElement['setAttribute'](eaiXOJ['EHPxy'],eaiXOJ['eEtVB']);let canvas=document['querySelector'](eaiXOJ['ApZts'](eaiXOJ['ApZts'](eaiXOJ['qcacl'](eaiXOJ['FPxUd'],eaiXOJ['KTxcI']),_0x31f225),'\x27]'));let imgElement=document['createElement'](eaiXOJ['sZLBb']);imgElement['classList']['add'](eaiXOJ['vkNip']);imgElement['classList']['add'](eaiXOJ['cMvqr']);imgElement['src']=canvas['toDataURL']();imgElement['setAttribute'](eaiXOJ['EHPxy'],eaiXOJ['tKbmj']);imgElement['setAttribute'](eaiXOJ['BdDkC'],eaiXOJ['zhGCd'](eaiXOJ['BBNOR']('页面',_0x31f225),eaiXOJ['KpQDP']));thumbnailSelectionRingElement['appendChild'](imgElement);aElement['appendChild'](thumbnailElement);aElement['appendChild'](thumbnailSelectionRingElement);thumbnailViewElement['appendChild'](aElement);}function drawPage(_0x3a03b3,_0x2a51bb,_0x1623de,_0x5ba562,_0x575698){var qFqCZU={'FKmdA':function(_0x303f6b,_0x375ce1,_0x579004,_0x53ae84,_0x2cdc8f,_0x39912c){return _0x303f6b(_0x375ce1,_0x579004,_0x53ae84,_0x2cdc8f,_0x39912c);},'OvnEu':'GET','KUluu':'text'};let requestURL=_0x5ba562;let request=new XMLHttpRequest();request['open'](qFqCZU['OvnEu'],requestURL);request['responseType']=qFqCZU['KUluu'];request['send']();request['onload']=function(){qFqCZU['FKmdA'](drawImage,_0x3a03b3,_0x2a51bb,_0x1623de,_0x575698,request['response']);};}function setPageNumber(){var XMrkzN={'cNDEN':'pageNumber'};document['getElementById'](XMrkzN['cNDEN'])['value']=g_currentPageNumber;}function calulatePageNumber(){var cCwbbJ={'yqLui':'viewerContainer','YCdgT':function(_0x56e532,_0x599d73){return _0x56e532<_0x599d73;},'LUdCa':function(_0x299fb7,_0x32da5a){return _0x299fb7+_0x32da5a;},'BZvCa':function(_0x58d1c3,_0x5228e6){return _0x58d1c3<=_0x5228e6;}};let viewerContainerElement=document['getElementById'](cCwbbJ['yqLui']);let scrollTop=viewerContainerElement['scrollTop'];let y=0x0;for(let i=0x0;cCwbbJ['YCdgT'](i,g_zpages['length']);i++){y+=cCwbbJ['LUdCa'](g_zpages[i]['height'],0xa);if(cCwbbJ['BZvCa'](scrollTop,y)){g_currentPageNumber=cCwbbJ['LUdCa'](i,0x1);break;}}}let g_sidebar_isOpend=![];let g_thumbnail_isOpened=![];let g_outline_isOpened=![];function setSideBar(){var lNOcyB={'RTojM':function(_0x595ffd,_0x55abd0){return _0x595ffd==_0x55abd0;},'FBpmu':'toggled','iBaRm':'sidebarOpen','aKhaC':'5|4|0|1|3|2','gfDxU':'hidden','HxGal':'5|3|2|1|4|0','QsykO':'sidebarToggle','Dqilz':'outerContainer','iKcmR':'click','UJBEd':'viewThumbnail','exPJC':'viewOutline','TsuTF':'thumbnailView','JfvSp':'outlineView'};let sideBarToggleButton=document['getElementById'](lNOcyB['QsykO']);let outerContainerElement=document['getElementById'](lNOcyB['Dqilz']);sideBarToggleButton['addEventListener'](lNOcyB['iKcmR'],function(){if(lNOcyB['RTojM'](g_sidebar_isOpend,![])){g_sidebar_isOpend=!![];sideBarToggleButton['classList']['add'](lNOcyB['FBpmu']);outerContainerElement['classList']['add'](lNOcyB['iBaRm']);}else{g_sidebar_isOpend=![];sideBarToggleButton['classList']['remove'](lNOcyB['FBpmu']);outerContainerElement['classList']['remove'](lNOcyB['iBaRm']);}});let viewThumbnailButton=document['getElementById'](lNOcyB['UJBEd']);let viewOutlineButton=document['getElementById'](lNOcyB['exPJC']);let thumbnailViewElement=document['getElementById'](lNOcyB['TsuTF']);let outlineViewElement=document['getElementById'](lNOcyB['JfvSp']);viewThumbnailButton['addEventListener'](lNOcyB['iKcmR'],function(){var OghXVf=lNOcyB['aKhaC']['split']('|'),BXVRGj=0x0;while(!![]){switch(OghXVf[BXVRGj++]){case'0':viewThumbnailButton['classList']['add'](lNOcyB['FBpmu']);continue;case'1':viewOutlineButton['classList']['remove'](lNOcyB['FBpmu']);continue;case'2':outlineViewElement['classList']['add'](lNOcyB['gfDxU']);continue;case'3':thumbnailViewElement['classList']['remove'](lNOcyB['gfDxU']);continue;case'4':g_outline_isOpened=![];continue;case'5':g_thumbnail_isOpened=!![];continue;}break;}});viewOutlineButton['addEventListener'](lNOcyB['iKcmR'],function(){var PnchGs=lNOcyB['HxGal']['split']('|'),TIpOfV=0x0;while(!![]){switch(PnchGs[TIpOfV++]){case'0':outlineViewElement['classList']['remove'](lNOcyB['gfDxU']);continue;case'1':viewThumbnailButton['classList']['remove'](lNOcyB['FBpmu']);continue;case'2':viewOutlineButton['classList']['add'](lNOcyB['FBpmu']);continue;case'3':g_thumbnail_isOpened=![];continue;case'4':thumbnailViewElement['classList']['add'](lNOcyB['gfDxU']);continue;case'5':g_outline_isOpened=!![];continue;}break;}});}function updatePageButton(){var xzguLF={'oPtBY':'previous','RnoiW':'next','MHMPz':function(_0x2b0fd8,_0x7b9ca1){return _0x2b0fd8>_0x7b9ca1;},'RIJIn':function(_0x1f63fa,_0x4a13c2){return _0x1f63fa==_0x4a13c2;},'ZBYpb':function(_0x4a78f0,_0x359c32){return _0x4a78f0<_0x359c32;}};let previouseButton=document['getElementById'](xzguLF['oPtBY']);let nextButton=document['getElementById'](xzguLF['RnoiW']);if(xzguLF['MHMPz'](g_currentPageNumber,0x1)){previouseButton['disabled']=![];}if(xzguLF['RIJIn'](g_currentPageNumber,0x1)){previouseButton['disabled']=!![];}if(xzguLF['RIJIn'](g_currentPageNumber,g_zpages['length'])){nextButton['disabled']=!![];}if(xzguLF['ZBYpb'](g_currentPageNumber,g_zpages['length'])){nextButton['disabled']=![];}}function openSinglePageMode(){var InUAsz={'hnFUo':'viewerContainer','LzkBe':function(_0x350e4a,_0x1d4d4a){return _0x350e4a<_0x1d4d4a;},'BaZwI':function(_0x28405c,_0x209862){return _0x28405c-_0x209862;},'NyZld':function(_0x15ea4b,_0xba0251){return _0x15ea4b+_0xba0251;},'zaPWt':function(_0x4cb024,_0x1104b7){return _0x4cb024+_0x1104b7;},'llOKv':function(_0x82d62e,_0x13ba8a){return _0x82d62e+_0x13ba8a;},'GSKfR':function(_0xc33275,_0x13ab65){return _0xc33275>_0x13ab65;},'JWuoG':function(_0x157bbf,_0x1baed5){return _0x157bbf+_0x1baed5;},'IviCE':function(_0x3eb76c,_0x45abfe){return _0x3eb76c+_0x45abfe;},'djLAX':function(_0x12b44f,_0x3ed03a){return _0x12b44f-_0x3ed03a;}};let viewerContainerElement=document['getElementById'](InUAsz['hnFUo']);let prePageHeight=0x0,currentPageHeight=0x0,visiableHeight=viewerContainerElement['clientHeight'];for(let i=0x0;InUAsz['LzkBe'](i,InUAsz['BaZwI'](g_currentPageNumber,0x1));i++){prePageHeight+=InUAsz['NyZld'](g_zpages[i]['height'],0xa);}currentPageHeight=InUAsz['zaPWt'](InUAsz['llOKv'](prePageHeight,g_zpages[InUAsz['BaZwI'](g_currentPageNumber,0x1)]['height']),0xa);if(InUAsz['GSKfR'](InUAsz['JWuoG'](viewerContainerElement['scrollTop'],viewerContainerElement['clientHeight']),InUAsz['IviCE'](currentPageHeight,0xa))){viewerContainerElement['scrollTop']=InUAsz['IviCE'](currentPageHeight,0x1);}if(InUAsz['LzkBe'](viewerContainerElement['scrollTop'],prePageHeight)){viewerContainerElement['scrollTop']=InUAsz['djLAX'](prePageHeight,visiableHeight);}}function setScrollEvent(){var qsHvXA={'neWtO':function(_0x3ffa32,_0x1f9cd6){return _0x3ffa32==_0x1f9cd6;},'vPXLE':function(_0x27fa0f){return _0x27fa0f();},'IHmAc':function(_0x240cf5){return _0x240cf5();},'XbIoG':'viewerContainer','rlKtE':'scroll'};let viewerContainerElement=document['getElementById'](qsHvXA['XbIoG']);viewerContainerElement['addEventListener'](qsHvXA['rlKtE'],function(_0x59a1d3){if(qsHvXA['neWtO'](g_singlePageMode,!![])){qsHvXA['vPXLE'](openSinglePageMode);}qsHvXA['vPXLE'](calulatePageNumber);qsHvXA['IHmAc'](setPageNumber);qsHvXA['IHmAc'](updatePageButton);});}function initPageNumber(){var agZWuh={'ZgWqX':'numPages','pYSVq':function(_0xa55723,_0x101d0e){return _0xa55723+_0x101d0e;}};let numPagesElement=document['getElementById'](agZWuh['ZgWqX']);numPagesElement['textContent']=agZWuh['pYSVq']('/',g_zpages['length']);}function setPageNextPreviouseButton(){var MVRHyG={'ocPMw':function(_0x4bbb07){return _0x4bbb07();},'wXGDb':function(_0x1802ef,_0x29d3de){return _0x1802ef<_0x29d3de;},'oCLkw':function(_0xc68de5,_0x726233){return _0xc68de5+_0x726233;},'jLOJL':function(_0x3881a5){return _0x3881a5();},'JrKeY':'viewerContainer','dsSGc':function(_0x57f17a,_0x4d8077){return _0x57f17a==_0x4d8077;},'uZlHR':function(_0x2bb9ca){return _0x2bb9ca();},'aJYOV':function(_0x243cf1,_0x254ee6){return _0x243cf1-_0x254ee6;},'pbzXW':function(_0x2ab6c9,_0x2deeb0){return _0x2ab6c9+_0x2deeb0;},'nNOWG':function(_0x1d3e01){return _0x1d3e01();},'RKHLX':function(_0x4472da,_0x572854){return _0x4472da==_0x572854;},'euKBZ':'previous','yTQma':'next','DdUfU':'click'};let previouseButton=document['getElementById'](MVRHyG['euKBZ']);let nextButton=document['getElementById'](MVRHyG['yTQma']);nextButton['addEventListener'](MVRHyG['DdUfU'],function(){MVRHyG['ocPMw'](calulatePageNumber);let x=0x0;let y=0xa;for(let i=0x0;MVRHyG['wXGDb'](i,g_currentPageNumber);i++){y+=MVRHyG['oCLkw'](g_zpages[i]['height'],0xa);}g_currentPageNumber++;MVRHyG['jLOJL'](setPageNumber);let viewerContainerElement=document['getElementById'](MVRHyG['JrKeY']);viewerContainerElement['scrollTo'](x,y);previouseButton['disabled']=![];if(MVRHyG['dsSGc'](g_currentPageNumber,g_zpages['length'])){nextButton['disabled']=!![];}});previouseButton['addEventListener'](MVRHyG['DdUfU'],function(){MVRHyG['uZlHR'](calulatePageNumber);let x=0x0;let y=0xa;for(let i=0x0;MVRHyG['wXGDb'](i,MVRHyG['aJYOV'](g_currentPageNumber,0x2));i++){y+=MVRHyG['pbzXW'](g_zpages[i]['height'],0xa);}g_currentPageNumber--;MVRHyG['nNOWG'](setPageNumber);let viewerContainerElement=document['getElementById'](MVRHyG['JrKeY']);viewerContainerElement['scrollTo'](x,y);if(MVRHyG['RKHLX'](g_currentPageNumber,0x0)){previouseButton['disabled']=!![];}});}function zrun(_0x36aac3){var OoKpDn={'iMwMU':function(_0x3c4526){return _0x3c4526();},'lghmd':function(_0x60a487,_0x50cd53){return _0x60a487(_0x50cd53);}};OoKpDn['iMwMU'](initViewer);OoKpDn['lghmd'](drawBook,_0x36aac3);}